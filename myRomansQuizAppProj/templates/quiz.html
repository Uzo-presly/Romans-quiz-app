<!-- templates/quiz.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Romans 2 Quiz</title>
  <link rel="stylesheet" href="/static/css/custom.css">
</head>
<body>
  <div style="background-color:#f0f8ff; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
  <h2>üìñ Welcome to the Romans Chapter 2 Quiz!</h2>
  <p>
    Test your knowledge of the Bible with this short, thoughtful quiz on Romans 2.
    Once you finish, you'll see your results and receive a copy by email.
  </p>
  <p><strong>‚úçÔ∏è Enter your email</strong> below before submitting ‚Äî so we can send your results.</p>
  <p><em>Let God‚Äôs Word dwell in you richly! (Colossians 3:16)</em></p>
</div>

  <p>‚è≥ Time remaining: <span id="time">240</span> seconds</p>

  <form action="/submit" method="post" id="quizForm">
    <label>Email:</label><br>
    <input type="email" name="email" required><br><br>

    {% for q in questions %}
      <div class="question">
        <p>Q{{ loop.index }}. {{ q.prompt }}</p>
        <div class="answers">
          <label><input type="radio" name="question_{{ q.id }}" value="0" required> {{ q.option_0 }}</label><br>
          <label><input type="radio" name="question_{{ q.id }}" value="1"> {{ q.option_1 }}</label><br>
          <label><input type="radio" name="question_{{ q.id }}" value="2"> {{ q.option_2 }}</label><br>
          <label><input type="radio" name="question_{{ q.id }}" value="3"> {{ q.option_3 }}</label><br>
        </div>
      </div>
      <br>
    {% endfor %}

    <button type="submit" id="submitBtn">Submit</button>
  </form>

  <script>
    let timer = 240;
    const interval = setInterval(() => {
      timer--;
      document.getElementById("time").textContent = timer;
      if (timer <= 0) {
        clearInterval(interval);
        alert("Time's up! Submitting your quiz.");
        document.getElementById("submitBtn").click();
      }
    }, 1000);
  </script>
</body>
</html>
